<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.example.demo.mapper.DeliveryLocationMapper">

    <insert id="insertLocation">
        INSERT INTO store_delivery_location(addressCode, addressDetail, storeId)
        VALUES (#{addressCode}, #{addressDetail}, #{storeId});
    </insert>

    <select id="getDeliveryLocation" resultType="DeliveryLocationDto">
        SELECT * FROM delivery_location
        WHERE (addressDetail LIKE CONCAT('%', #{addressDetail}, '%'))
        AND status LIKE CONCAT('존재', '%');
    </select>

    <select id="getDeliveryLocationsByStoreId" resultType="DeliveryLocationDto">
        SELECT *
        FROM store_delivery_location
        WHERE storeId = #{storeId};
    </select>

</mapper>